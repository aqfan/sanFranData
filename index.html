<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="San Francisco 911 Call Data Analysis">
  <title>San Francisco 911 Call Data</title>
  <!-- Bootstrap core CSS -->
  <link href="/css/bootstrap.min.css" rel="stylesheet" type="text/css">

  <!-- Custom fonts for this template -->
  <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

  <!-- Plugin CSS -->
  <link href="vendor/magnific-popup/magnific-popup.css" rel="stylesheet" type="text/css">

  <!-- Custom styles for this template -->
  <link href="css/freelancer.css" rel="stylesheet">

</head>

<body id="page-top">
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg bg-secondary fixed-top text-uppercase" id="mainNav">
    <div class="container">
      <a class="navbar-brand js-scroll-trigger" href="#page-top">San Francisco 911 Call Data</a>
      <button class="navbar-toggler navbar-toggler-right text-uppercase bg-primary text-white rounded" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        Menu
        <i class="fa fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item mx-0 mx-lg-1">
            <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#graphs">Graphs</a>
          </li>
          <li class="nav-item mx-0 mx-lg-1">
            <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#map">Map</a>
          </li>
          <li class="nav-item mx-0 mx-lg-1">
            <a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#estimate">Estimate</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Header -->
  <header class="masthead bg-primary text-white text-center">
    <div class="container">
      <h2 class="mb-0">Ever wondered about emergency call dispatches?</h2>
      <br/>
      <h3 class="font-weight-light mb-0">See below to learn more about emergency calls made in San Francisco!</h3>
    </div>
  </header>

  <!-- Graphs Section -->
  <section id="graphs">
    <div class="container">
      <h2 class="text-center text-uppercase text-secondary">Graphs</h2>
      <hr class="star-dark mb-5">
      <h3 class="text-center text-uppercase text-secondary">Types of Calls</h3>
      <div class="row">
        <div class="col-12 col-xl-8">
          <canvas id="call_type_count_chart" width="100%" height="60%"/>
        </div>
        <div class="col-12 col-xl-4">
          Let's take a look at the different types of emergency calls made in San Francisco.
          It's very clear that Medical Incidents are the most common, which isn't really a surprise.
          Since the number of medical incidents account for more than the other types combined, click
          <font id ="no_med" color="red">here</font> to
          view the graph without medical incidents or to switch back.
        </div>
      </div>
      <br/><br/>
      <h3 class="text-center text-uppercase text-secondary">Dispatch Time per Call Type</h3>
      <div class="row">
        <div class="col-12 col-xl-8">
          <canvas id="call_type_time_chart" width="100%" height="60%"/>
        </div>
        <div class="col-12 col-xl-4">
          This chart shows the average time taken between when the emergency call was received to when
          a dispatch was made for each call type. We can see that train/rail incidents take the longest time
          to dispatch, with an average of 84.09 minutes or roughly 1 hours and 24 minutes.
          Since train/rail incidents take longer than the other types combined, click
          <font id ="no_rails" color="red">here</font> to
          view the graph without train/rail incidents or to switch back.
        </div>
      </div>
      <br/><br/>
      <h3 class="text-center text-uppercase text-secondary">Number of Calls per Neighborhood</h3>
      <div class="row">
        <div class="col-12 col-xl-8">
          <canvas id="neighborhood_num_chart" width="100%" height="70%"/>
        </div>
        <div class="col-12 col-xl-4">
          Shows that Hayes Valley has the most amount of calls and Presidio has smallest number of calls which makes sense because Presidio is very spread out while Hayes Valley is much denser.
        </div>
      </div>
      <br/><br/>
      <h3 class="text-center text-uppercase text-secondary">Dispatch Time per Neighborhood</h3>
      <div class="row">
        <div class="col-12 col-xl-8">
          <canvas id="neighborhood_time_chart" width="100%" height="70%"/>
        </div>
        <div class="col-12 col-xl-4">
          Dispatch time per neighborhood graph shows that the Financial District South has the longest average dispatch time of 19.02 minutes, with Bayview and Presidio with second and third longest dispatch time, respectively. So how can we fix this?
          <br/><br/>
          The Financial District South is located in a crowded area with lots of traffic and it has the highest number of emergency calls,
          which seems to show that there are not enough units
          to cover all of the calls. So, if we increase the number of units, then more units will be free so
          a dispatcher can quickly connect to and dispatch a unit.
          <br/><br/>
          We can decrease dispatch time in Bayview-Hunters Point by possibly having more patrol around since the area is most houses. The dispatch time is still under
          the average for the United States in general, so there shouldn't be too much to worry about.
          <br/><br/>
          As for Presidio, there are a few fire stations nearby but most of the land is very open so it may take longer to find a unit to dispatch.
          Thus, having a closer more centralized fire station may decrease dispatch time.
        </div>
      </div>
      <br/><br/>
      <h3 class="text-center text-uppercase text-secondary">Safest Neighborhood District</h3>
      <div class="row">
        <div class="col-12 col-xl-8">
          <canvas id="safest_chart" width="100%" height="60%"/>
        </div>
        <div class="col-12 col-xl-4">
          Which neighborhood is the safest? Let's look at the percent of non life-threatening calls in each neighborhood.
          The Parkside/Forest Hill district has the highest percentage of non life-threatening calls,
          meaning it is the safest district in terms of calls dispatched from the fire department. This may be explained by the fact
          that Parside/Forest Hill are small residential areas so they tend to be safe.
        </div>
      </div>
    </div>
  </section>

  <!-- Heat Map Section -->
  <section id="map" class="bg-primary text-white mb-0">
    <div class="container-fluid text-center">
      <h2 class="text-center text-uppercase text-white mb-0">Heat Map</h2>
      <hr class="star-light mb-5">
      <h3 class="font-weight-light mb-0">Currently showing: Heatmap of dispatch <text id="map_type">frequency</text></h3>
      <br/>
      <div class="row">
        <div class="btn-group center" data-toggle="buttons">
          <label class="btn btn-secondary" id="frequencyMap">
            View Frequency Map
          </label>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          <label class="btn btn-secondary" id="urgencyMap">
            View Urgency Map
          </label>
        </div>
      </div>
      <div class="row">
        <div id="heatmap" class="map center"></div>
      </div>
      <br/>
      <div class="row">
        <h5 class="not-bold center">Notice that the two maps are very similar!</h5>
      </div>
    </div>
  </section>

  <!-- Estimate Section -->
  <section id="estimate">
    <div class="container">
      <h2 class="text-center text-uppercase text-secondary mb-0">Estimate Type of Dispatch</h2>
      <hr class="star-dark mb-5">
      <h3 class="font-weight-light mb-0">Enter an address and time and to get the most likely dispatch to be required</h3>
      <br/>
      <div class="row">
        <div class="col-12 col-xl-6">
          <form>
            <div class="form-group">
              <label for="address">Address</label>
              <input type="text" class="form-control" id="address" placeholder="Enter address" required>
            </div>
            <div class="form-group">
              <label for="time">Time</label>
              <input type="time" class="form-control" id="time" required>
            </div>
            <label type = "submit" class="btn btn-primary" id="submit" formnovalidate>Submit</label>
          </form>
        </div>
        <div class="col-12 col-xl-6 text-center">
          <h3 id="estimation">Please enter address and time!</h2><br/>
            <h5 class="not-bold">Call Type: <text id="call_type"></text></h5><br/>
            <h5 class="not-bold">Unit Dispatched: <text id="unit_type"></text></h5><br/>
            <h5 class="not-bold">Time Taken for Dispatch: <text id="time_taken"></text> min</h5><br/>
          </div>
        </div>
      </div>
    </section>

    <div class="copyright py-4 text-center text-white">
      <div class="container">
        <small>Copyright &copy; Angel Fan 2018</small>
      </div>
    </div>

    <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
    <div class="scroll-to-top d-lg-none position-fixed ">
      <a class="js-scroll-trigger d-block text-center text-white rounded" href="#page-top">
        <i class="fa fa-chevron-up"></i>
      </a>
    </div>

    <!-- Bootstrap core JavaScript -->
    <script src="/vendor/jquery/jquery.min.js"></script>
    <script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="/vendor/jquery-easing/jquery.easing.min.js"></script>
    <script src="/vendor/magnific-popup/jquery.magnific-popup.min.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="/js/jqBootstrapValidation.js"></script>

    <!-- Custom scripts for this template -->
    <script src="/js/freelancer.min.js"></script>
    <script src="/js/script.js"></script>

    <!-- Custom scripts for this project -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCEJEVBHgTV-kwYQvUJrRH9ZTe0wsTHbhQ&libraries=visualization&callback=initMap">
    </script>
  </body>
  </html>
